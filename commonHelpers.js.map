{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com';\nconst END_POINT = '/api';\nconst PARAMS = `/?key=42279202-5e6657fc85e4b10c09189e202&image_type=photo&orientation=horizontal&safesearch=true`;\n\nconst url = BASE_URL + END_POINT + PARAMS;\n\nexport function fetchImages(searchParams) {\n  const value = searchParams.trim();\n  if (value) {\n    return fetch(url + `&q=${value}`);\n  } else {\n    return Promise.reject();\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from './pixabay-api';\n\nconst searchInput = document.querySelector('#search-input');\nconst gallery = document.querySelector('#gallery');\nconst loader = document.querySelector('.loader');\nconst navigationForm = document.querySelector('.navigation');\n\nexport const refs = {\n  searchInput,\n  gallery,\n  loader,\n  navigationForm,\n};\n\nexport const lightbox = new SimpleLightbox(\n  '#gallery .gallery-item .gallery-link ',\n  {\n    dowload: false,\n    close: true,\n    closeText: 'Ã—',\n    captions: true,\n    captionsData: 'alt',\n    captionType: 'attr',\n    captionDelay: 250,\n    captionSelector: 'img',\n  }\n);\n\nexport function getGallery() {\n  showLoder();\n\n  fetchImages(searchInput.value)\n    .then(response => {\n      return response.json();\n    })\n    .then(data => {\n      arrLengthChecker(data.hits);\n      const galleryTemplate = data.hits\n        .map(hit => {\n          return `<div class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" />\n        </a>\n        <div class=\"image-info\">\n            <div><b>Likes</b> ${hit.likes}</div>\n            <div><b>Views</b> ${hit.views}</div>\n            <div><b>Comments</b> ${hit.comments}</div>\n            <div><b>Downloads</b> ${hit.downloads}</div>\n        </div>\n        </div>`;\n        })\n        .join('');\n\n      gallery.innerHTML = galleryTemplate;\n      lightbox.refresh();\n    })\n    .catch(() => {\n      iziToast.show({\n        message: `\"Sorry, there are no images matching your search query. Please try again!\"`,\n        position: 'topRight',\n        title: '',\n        color: 'red',\n      });\n    })\n    .finally(() => {\n      closeLoder();\n    });\n\n  searchInput.value = '';\n}\n\nexport function showLoder() {\n  refs.loader.style.display = 'inline-block';\n}\n\nexport function closeLoder() {\n  refs.loader.style.display = 'none';\n}\n\nexport function arrLengthChecker(arr) {\n  if (!arr.length) {\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n      title: '',\n      color: 'red',\n    });\n  }\n}\n","import { refs, getGallery } from './js/render-functions';\n\nrefs.navigationForm.addEventListener('submit', e => {\n  e.preventDefault();\n  getGallery();\n});\n"],"names":["BASE_URL","END_POINT","PARAMS","url","fetchImages","searchParams","value","searchInput","gallery","loader","navigationForm","refs","lightbox","SimpleLightbox","getGallery","showLoder","response","data","arrLengthChecker","galleryTemplate","hit","iziToast","closeLoder","arr","e"],"mappings":"6vBAAA,MAAMA,EAAW,sBACXC,EAAY,OACZC,EAAS,mGAETC,EAAMH,EAAWC,EAAYC,EAE5B,SAASE,EAAYC,EAAc,CACxC,MAAMC,EAAQD,EAAa,OAC3B,OAAIC,EACK,MAAMH,EAAM,MAAMG,CAAK,EAAE,EAEzB,QAAQ,QAEnB,CCPA,MAAMC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAiB,SAAS,cAAc,aAAa,EAE9CC,EAAO,CAClB,YAAAJ,EACA,QAAAC,EACA,OAAAC,EACA,eAAAC,CACF,EAEaE,EAAW,IAAIC,EAC1B,wCACA,CACE,QAAS,GACT,MAAO,GACP,UAAW,IACX,SAAU,GACV,aAAc,MACd,YAAa,OACb,aAAc,IACd,gBAAiB,KAClB,CACH,EAEO,SAASC,GAAa,CAC3BC,IAEAX,EAAYG,EAAY,KAAK,EAC1B,KAAKS,GACGA,EAAS,MACjB,EACA,KAAKC,GAAQ,CACZC,EAAiBD,EAAK,IAAI,EAC1B,MAAME,EAAkBF,EAAK,KAC1B,IAAIG,GACI;AAAA,wCACuBA,EAAI,aAAa;AAAA,8CACXA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,gCAGhDA,EAAI,KAAK;AAAA,gCACTA,EAAI,KAAK;AAAA,mCACNA,EAAI,QAAQ;AAAA,oCACXA,EAAI,SAAS;AAAA;AAAA,eAGxC,EACA,KAAK,EAAE,EAEVZ,EAAQ,UAAYW,EACpBP,EAAS,QAAO,CACtB,CAAK,EACA,MAAM,IAAM,CACXS,EAAS,KAAK,CACZ,QAAS,6EACT,SAAU,WACV,MAAO,GACP,MAAO,KACf,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbC,GACN,CAAK,EAEHf,EAAY,MAAQ,EACtB,CAEO,SAASQ,GAAY,CAC1BJ,EAAK,OAAO,MAAM,QAAU,cAC9B,CAEO,SAASW,GAAa,CAC3BX,EAAK,OAAO,MAAM,QAAU,MAC9B,CAEO,SAASO,EAAiBK,EAAK,CAC/BA,EAAI,QACPF,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,MAAO,GACP,MAAO,KACb,CAAK,CAEL,CC3FAV,EAAK,eAAe,iBAAiB,SAAUa,GAAK,CAClDA,EAAE,eAAc,EAChBV,GACF,CAAC"}