{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com';\nconst END_POINT = '/api';\nconst PARAMS = `/?key=42279202-5e6657fc85e4b10c09189e202&image_type=photo&orientation=horizontal&safesearch=true`;\n\nconst url = BASE_URL + END_POINT + PARAMS;\n\nexport function getImages(searchParams) {\n  const value = searchParams.trim();\n  if (value) {\n    return fetch(url + `&q=${value}`);\n  } else {\n    return Promise.reject();\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { getImages } from './pixabay-api';\n\nlet searchInput = document.querySelector('#search-input');\nlet searchButton = document.querySelector('#search-button');\nlet gallery = document.querySelector('#gallery');\nlet loader = document.querySelector('.loader');\n\nlet lightbox = new SimpleLightbox('#gallery .gallery-item .gallery-link ', {\n  dowload: false,\n  close: true,\n  closeText: 'Ã—',\n  captions: true,\n  captionsData: 'alt',\n  captionType: 'attr',\n  captionDelay: 250,\n  captionSelector: 'img',\n});\n\nsearchButton.addEventListener('click', () => {\n  loader.style.display = 'inline-block';\n  console.log(searchInput.value);\n\n  getImages(searchInput.value)\n    .then(response => {\n      return response.json();\n    })\n    .then(data => {\n      const galleryTemplate = data.hits\n        .map(hit => {\n          return `<div class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" />\n        </a>\n        <div class=\"image-info\">\n            <div>Likes: ${hit.likes}</div>\n            <div>Views: ${hit.views}</div>\n            <div>Comments: ${hit.comments}</div>\n            <div>Downloads: ${hit.downloads}</div>\n        </div>\n        </div>`;\n        })\n        .join('');\n      loader.style.display = 'none';\n      gallery.innerHTML = galleryTemplate;\n      lightbox.refresh();\n    })\n    .catch(error => {\n      iziToast.show({\n        message: `\"Sorry, there are no images matching your search query. Please try again!\"`,\n        position: 'topRight',\n        title: '',\n        color: 'red',\n      });\n    });\n\n  searchInput.value = '';\n});\n"],"names":["BASE_URL","END_POINT","PARAMS","url","getImages","searchParams","value","searchInput","searchButton","gallery","loader","lightbox","SimpleLightbox","response","data","galleryTemplate","hit","error","iziToast"],"mappings":"6vBAAA,MAAMA,EAAW,sBACXC,EAAY,OACZC,EAAS,mGAETC,EAAMH,EAAWC,EAAYC,EAE5B,SAASE,EAAUC,EAAc,CACtC,MAAMC,EAAQD,EAAa,OAC3B,OAAIC,EACK,MAAMH,EAAM,MAAMG,CAAK,EAAE,EAEzB,QAAQ,QAEnB,CCPA,IAAIC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,wCAAyC,CACzE,QAAS,GACT,MAAO,GACP,UAAW,IACX,SAAU,GACV,aAAc,MACd,YAAa,OACb,aAAc,IACd,gBAAiB,KACnB,CAAC,EAEDJ,EAAa,iBAAiB,QAAS,IAAM,CAC3CE,EAAO,MAAM,QAAU,eACvB,QAAQ,IAAIH,EAAY,KAAK,EAE7BH,EAAUG,EAAY,KAAK,EACxB,KAAKM,GACGA,EAAS,MACjB,EACA,KAAKC,GAAQ,CACZ,MAAMC,EAAkBD,EAAK,KAC1B,IAAIE,GACI;AAAA,wCACuBA,EAAI,aAAa;AAAA,8CACXA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,0BAGtDA,EAAI,KAAK;AAAA,0BACTA,EAAI,KAAK;AAAA,6BACNA,EAAI,QAAQ;AAAA,8BACXA,EAAI,SAAS;AAAA;AAAA,eAGlC,EACA,KAAK,EAAE,EACVN,EAAO,MAAM,QAAU,OACvBD,EAAQ,UAAYM,EACpBJ,EAAS,QAAO,CACtB,CAAK,EACA,MAAMM,GAAS,CACdC,EAAS,KAAK,CACZ,QAAS,6EACT,SAAU,WACV,MAAO,GACP,MAAO,KACf,CAAO,CACP,CAAK,EAEHX,EAAY,MAAQ,EACtB,CAAC"}